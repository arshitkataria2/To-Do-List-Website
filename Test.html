<!DOCTYPE html>
<html lang="en">

<head>
    <title>To-Do</title>
    <style>
        @font-face {
            font-family: 'Neon';
            src: url(NeonAndroidItalic-L30r4.ttf);
        }

        body {
            background-color: black;
        }

        ::-webkit-scrollbar-track {
            background-color: black;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: -webkit-gradient(linear, left top, left bottom, from(#8360c3), to(#2ebf91));
            border-radius: 100px;
        }

        h {
            font-family: "Neon";
            color: cyan;
            font-size: 60px;
            text-shadow: 0 0 42px blue;
            text-decoration: underline;
            text-decoration-color: white;
        }

        .add {
            position: relative;
            top: 35px;
            border: 0;
            border-radius: 15px;
            box-shadow: 0 0 7px cyan;
            background-color: black;
            width: 700px;
            height: 35px;
            padding-left: 15px;
        }

        .add:focus {
            color: white;
            box-shadow: 0 0 18px cyan;
            font-size: 20px;
            outline: none;
        }

        .add::placeholder {
            position: fixed;
            left: 22px;
            top: 9px;
            color: beige;
            font-size: 20px;
        }

        .plus {
            background: none;
            border: none;
            right: 420px;
            top: 120px;
            position: absolute;
            font-size: 30px;
            color: white;
            cursor: pointer;
        }

        .plus:hover {
            color: cyan;
        }

        .list1 {
            z-index: 1;
            position: relative;
            display: inline;
            font-family: 'Neon';
            color: white;
            left: 310px;
            margin: 65px;
        }

        .box {
            position: relative;
            border-radius: 20px;
            top: -47px;
            left: 362px;
            height: 460px;
            width: 995px;
            background-image: linear-gradient(to right, #8360c3, #2ebf91);
            overflow: hidden;
        }

        .nav {
            z-index: 2;
            position: absolute;
            top: 0px;
            left: 2px;
            width: 290px;
            height: 696px;
            background-image: linear-gradient(to top, #8360c3, #2ebf91);
            border-radius: 20px;
        }

        .vertical-menu {
            z-index: 3;
            position: absolute;
            top: 22px;
            left: 15px;
            width: 240px;
            background-color: transparent;
            border-radius: 20px;
        }

        .vertical-menu a {
            font-family: 'Neon';
            color: white;
            display: block;
            padding: 15px;
            text-decoration: none;
            border-radius: 20px;
            margin-bottom: 7px;
        }

        .vertical-menu a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .vertical-menu a.active {
            background-color: black;
            color: white;
        }

        .button {
            font-family: 'Neon';
            font-size: 20px;
            color: white;
            position: absolute;
            top: 20px;
            right: 20px;
            text-decoration: underline;
        }

        .button:hover {
            color: cyan;
        }

        .task-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #ccc;
            font-family: 'Neon';
            color: white;
            font-size: 20px;
            padding: 5px;
        }

.task-row.urgent {
    display: none;
}

        .task {
            flex: 1;
            margin-bottom: -57px;
            padding: 48px;
        }

    .task-row.hidden {
    display: none;
}
.task-row.completed {
    display: none;
}

.task-row.completed.visible {
    display: flex;
}

.completed-checkbox {
    margin-top: 5px;
}

    .date {
        flex: 0 0 207px;
    font-family: 'Neon';
    color: white;
    font-size: 20px;
    margin-bottom: -58px;
    }

    .completed

    {
        flex: 0 0 282px;
    padding: 5px 0px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    position: relative;
    top: 22px;
    }
    .urgency {
        flex: 0 0 282px;
    padding: 5px 0px;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    position: relative;
    top: 22px;
    }

    .urgency p {
        margin: 14px; 
    }


.checkbox-container {
    position: relative;
    top: -6px;
    margin-right: 10px;
}


    .quotes {
    z-index: 3;
    color: white;
    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
    position: absolute;
    top: 532px;
    left: 5px;
    font-size: 24px;
    border: solid;
    border-radius: 20px;
    width: 282px;
    height: 159px
}
.headsup
{
    z-index: 3;
    color: white;
    font-family: Arial, Helvetica, sans-serif;
    position: absolute;
    top: 465px;
    left: 63px;
    font-size: 30px;
    text-decoration: underline;
}
.quote-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 159px; 
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            justify-content: flex-end; 
        }

        .quote-wrapper {
            display: flex;
            transition: transform 1s ease-in-out;
            position: absolute;
            top:11px;
        }

        .quote {
            flex: 0 0 100%;
            font-size: 24px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin: 5px; 
        }

        .quote-author {
            position: absolute;
            bottom: 5px;
            right: 10px; 
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
            font-style: italic;
            color: white;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .checkbox-container {
    position: relative;
    top: 4px; 
    margin-right: 10px;
}
    </style>
</head>
<script>
    var taskCount = 0;

    function openPopup() {
        var taskName = document.getElementById('taskInput').value;

        var popupBox = document.createElement('div');
        popupBox.style.position = 'fixed';
        popupBox.style.top = '50%';
        popupBox.style.left = '50%';
        popupBox.style.transform = 'translate(-50%, -50%)';
        popupBox.style.background = 'black';
        popupBox.style.padding = '20px';
        popupBox.style.border = '1px solid';
        popupBox.style.borderRadius = '20px';
        popupBox.style.zIndex = '1000';
       
         var backdrop = document.createElement('div');
         backdrop.style.position = 'fixed';
         backdrop.style.top = '0';
         backdrop.style.left = '0';
         backdrop.style.width = '100%';
         backdrop.style.height = '100%';
         backdrop.style.background = 'rgba(0, 0, 0, 0.5)'; 
         backdrop.style.backdropFilter = 'blur(5px)'; 
         backdrop.style.zIndex = '1000';
             
         document.body.appendChild(backdrop);

    

        var closeIcon = document.createElement('div');
        closeIcon.innerHTML = '&#10006;';
        closeIcon.style.fontSize = "20px";
        closeIcon.style.position = "absolute";
        closeIcon.style.cursor = "pointer";
        closeIcon.style.width = "20px";
        closeIcon.style.height = "20px";
        closeIcon.style.top = "7px";
        closeIcon.style.right = "7px";
        closeIcon.style.color = "white";
        closeIcon.style.fontFamily = "Neon";
        closeIcon.style.zIndex = "1001";

        closeIcon.addEventListener('mouseenter', function () {
            closeIcon.style.color = "cyan";
        });

        closeIcon.addEventListener('mouseleave', function () {
            closeIcon.style.color = "white";
        });

        closeIcon.onclick = function () {
            document.body.removeChild(popupBox);
            document.body.removeChild(backdrop); 
            var overlay = document.getElementById('overlay');
            overlay.style.display = 'none';
        };
        popupBox.appendChild(closeIcon);

        var taskNameDisplay = document.createElement('p');
        taskNameDisplay.style.fontSize = '18px';
        taskNameDisplay.style.color = "white";
        taskNameDisplay.style.height = "107px";
        taskNameDisplay.style.fontFamily = "Neon";
        taskNameDisplay.textContent = 'Select Deadline Date';
        popupBox.appendChild(taskNameDisplay);

        var dateInput = document.createElement('input');
        dateInput.type = 'date';
        dateInput.style.fontSize = "20px";
        dateInput.style.width = "216px";
        dateInput.style.position = "absolute";
        dateInput.style.top = "94px";
        dateInput.id = 'dateInput';
        popupBox.appendChild(dateInput);

        var confirmButton = document.createElement('button');
        confirmButton.textContent = 'Submit';
        confirmButton.style.borderRadius = "20px";
        confirmButton.style.fontSize = "20px";
        confirmButton.style.position = "absolute";
        confirmButton.style.cursor = "pointer";
        confirmButton.style.width = "100px";
        confirmButton.style.height = "35px";
        confirmButton.style.top = "141px";
        confirmButton.style.left = "86px";
        confirmButton.style.border = "hidden";
        confirmButton.style.color = "white";
        confirmButton.style.fontFamily = "Neon";
        confirmButton.style.backgroundColor = "cyan";
        confirmButton.addEventListener('mouseover', function () {
            confirmButton.style.color = "black";
        });

        confirmButton.addEventListener('mouseout', function () {
            confirmButton.style.color = "white";
        });

        confirmButton.onclick = function () {
            var selectedDate = document.getElementById('dateInput').value;
            updateTaskDetails(taskName, selectedDate);
            document.body.removeChild(popupBox);
            document.body.removeChild(backdrop); 
        };
        popupBox.appendChild(confirmButton);

        document.body.appendChild(popupBox);
        var overlay = document.getElementById('overlay');
        overlay.style.display = 'block';
    }
    function updateTaskDetails(taskName, selectedDate) {
var overlay = document.getElementById('overlay');
overlay.style.display = 'none';

var parsedDate = new Date(selectedDate);
var currentDate = new Date();
currentDate.setHours(0, 0, 0, 0); 

var dayDifference = Math.floor((parsedDate - currentDate) / (24 * 60 * 60 * 1000));

var taskRow = document.createElement('div');
taskRow.className = 'task-row';
taskRow.style.position = 'relative'; 

var taskDiv = document.createElement('div');
taskDiv.className = 'task';
taskDiv.textContent = taskName;
taskRow.appendChild(taskDiv);

var dateDiv = document.createElement('div');
dateDiv.className = 'date';

var day = parsedDate.getDate();
var month = parsedDate.getMonth() + 1;
var year = parsedDate.getFullYear().toString().slice(-2);

day = (day < 10) ? '0' + day : day;
month = (month < 10) ? '0' + month : month;

var formattedDate = day + '-' + month + '-' + year;
dateDiv.textContent = formattedDate;

taskRow.appendChild(dateDiv);

var urgencyDivItem = document.createElement('div');
urgencyDivItem.className = 'urgency';

if (dayDifference < 0) {
    urgencyDivItem.innerHTML = '<p style="color: red; text-shadow: 0 0 7px black;">⚫</p>';
} else if (dayDifference === 0) {
    urgencyDivItem.innerHTML = '<p style="color: red; text-shadow: 0 0 7px black;">🔴</p>';
} else if (dayDifference === 1) {
    urgencyDivItem.innerHTML = '<p style="color: yellow; text-shadow: 0 0 7px black;">🟡</p>';
} else if (dayDifference === 2) {
    urgencyDivItem.innerHTML = '<p style="color: yellow; text-shadow: 0 0 7px black;">🟡</p>';
} else if (dayDifference === 3) {
    urgencyDivItem.innerHTML = '<p style="color: green; text-shadow: 0 0 7px black;">🟢</p>';
} else {
    urgencyDivItem.innerHTML = '<p style="color: red; text-shadow: 0 0 7px black;">⚪</p>';
}

taskRow.appendChild(urgencyDivItem);


tasksContainer.appendChild(taskRow);
taskCount++;

if (taskCount % 5 === 0) {
    var box = document.getElementById('tasksBox');
    var currentHeight = box.offsetHeight;
    var newHeight = currentHeight * 2;
    box.style.height = newHeight + 'px';
}
document.getElementById('taskInput').value = '';

var deleteButton = document.createElement('button');
deleteButton.textContent = 'Delete';
deleteButton.style.borderRadius = '20px';
deleteButton.style.fontSize = '16px';
deleteButton.style.cursor = 'pointer';
deleteButton.style.width = '80px';
deleteButton.style.height = '25px';
deleteButton.style.marginRight = '10px';
deleteButton.style.backgroundColor = 'red';
deleteButton.style.border = 'hidden';
deleteButton.style.color = 'white';
deleteButton.style.position = 'absolute';
deleteButton.style.top = '40px';  // Adjusted value
deleteButton.style.right = '10px';  // Adjusted value
deleteButton.style.zIndex = '3';
deleteButton.style.fontFamily = 'Neon';
deleteButton.addEventListener('mouseover', function () {
    deleteButton.style.color = 'black';
});
deleteButton.addEventListener('mouseout', function () {
    deleteButton.style.color = 'white';
});
deleteButton.onclick = function () {
    deleteTask(taskRow);
};

taskRow.appendChild(deleteButton);

function deleteTask(taskRow) {
    var tasksContainer = document.getElementById('tasksContainer');
    tasksContainer.removeChild(taskRow);

    taskCount--;

    if (taskCount % 5 === 4) {
        var box = document.getElementById('tasksBox');
        var currentHeight = box.offsetHeight;
        var newHeight = currentHeight / 2;
        box.style.height = newHeight + 'px';
    }
}
var completedDiv = document.createElement('div');
completedDiv.className = 'completed';

var checkboxContainer = document.createElement('div');
checkboxContainer.className = 'checkbox-container';

var checkbox = document.createElement('input');
checkbox.type = 'checkbox';
checkbox.className = 'completed-checkbox';
checkbox.addEventListener('change', function () {
    if (checkbox.checked) {
        taskRow.classList.add('completed');
    } else {
        taskRow.classList.remove('completed');
    }
});

checkboxContainer.appendChild(checkbox);
completedDiv.appendChild(checkboxContainer);

taskRow.appendChild(completedDiv);
    }
    function showCompletedTasks() {
    const allTaskRows = document.querySelectorAll('.task-row');

    allTaskRows.forEach(taskRow => {
        const checkbox = taskRow.querySelector('.completed-checkbox');

        if (checkbox.checked) {
            taskRow.style.display = 'flex';
        } else {
            taskRow.style.display = 'none';
        }
    });
}
function showTasks() {
    const allTaskRows = document.querySelectorAll('.task-row');
    
    allTaskRows.forEach(taskRow => {
        const checkbox = taskRow.querySelector('.completed-checkbox');

        if (checkbox.checked === true) {
            taskRow.style.display = 'none'; 
        } else {
            taskRow.style.display = 'flex'; 
        }
    });
}
document.addEventListener('DOMContentLoaded', function () {
    const showCompletedButton = document.getElementById('showCompletedButton');

    if (showCompletedButton) {
        showCompletedButton.addEventListener('click', showCompletedTasks);
    }
});
function deleteTask(taskRow) {
        var tasksContainer = document.getElementById('tasksContainer');
        tasksContainer.removeChild(taskRow);

        taskCount--;

        if (taskCount % 5 === 4) {
            var box = document.getElementById('tasksBox');
            var currentHeight = box.offsetHeight;
            var newHeight = currentHeight / 2;
            box.style.height = newHeight + 'px';
        }
    }
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
        const quoteWrapper = document.getElementById('quoteWrapper');
        const quoteAuthorElement = document.getElementById('quoteAuthor');

        function fetchQuote() {
            fetch('https://api.quotable.io/random')
                .then(response => response.json())
                .then(data => {
                    const quote = `"${data.content}"`;
                    const author = `- ${data.author}`;

                    adjustFontSize(quoteWrapper, quote);
                    adjustFontSize(quoteAuthorElement, author);

                    quoteWrapper.innerHTML = quote;
                    quoteAuthorElement.innerHTML = author;

                })
                .catch(error => console.error('Error fetching quote:', error));
        }

        function adjustFontSize(element, text) {
            const maxWidth = 500;
            let fontSize = 21;

            const tempSpan = document.createElement('span');
            tempSpan.style.fontSize = fontSize + 'px';
            tempSpan.style.visibility = 'hidden';
            tempSpan.style.whiteSpace = 'nowrap';
            tempSpan.innerHTML = text;

            document.body.appendChild(tempSpan);

            while (tempSpan.offsetWidth > maxWidth) {
                fontSize -= 1;
                tempSpan.style.fontSize = fontSize + 'px';
            }

            document.body.removeChild(tempSpan);

            element.style.fontSize = fontSize + 'px';
        }

        function changeQuote() {
            fetchQuote();
        }

        fetchQuote();

        setInterval(changeQuote, 60000);

        
});
function filterTasksByUrgency(urgency) {
    var tasksContainer = document.getElementById('tasksContainer');
    var taskRows = tasksContainer.getElementsByClassName('task-row');

    for (var i = 0; i < taskRows.length; i++) {
        var taskRow = taskRows[i];
        var urgencyDiv = taskRow.querySelector('.urgency');
        var checkbox = taskRow.querySelector('.completed input');

        var today = new Date();
        today.setHours(0, 0, 0, 0);

        var taskDate = new Date(taskRow.querySelector('.date').textContent);
        taskDate.setHours(0, 0, 0, 0);

        switch (urgency) {
            case 'today':
            taskRow.style.display = (checkbox.checked || urgencyDiv.innerHTML.includes('🔴')) ? '' : 'none';
                break;
            case 'urgent':
            taskRow.style.display = (checkbox.checked || (urgencyDiv.innerHTML.includes('🔴') || urgencyDiv.innerHTML.includes('🟡'))) ? '' : 'none';
            break;
            case 'upcoming':
            taskRow.style.display = (checkbox.checked || (urgencyDiv.innerHTML.includes('⚪') || urgencyDiv.innerHTML.includes('🟢'))) ? '' : 'none';
                break;
        }
    }
}
</script>
<body>
    <h><center>To-Do</center></h>
    <center><input class="add" type="text" id="taskInput" placeholder="Add a new task..." maxlength="7"></center>
    <button class="plus" type="button" onclick="openPopup()">+</button>
    <input type="date" id="datePicker" style="display: none;">
    <label for="datePicker" id="datePickerLabel"></label>
        <p class="headsup">Quotes Box</p>
        <div class="quotes">
            <div class="quote-container">
                <div class="quote-wrapper" id="quoteWrapper"></div>
                <div id="quoteAuthor" class="quote-author"></div>
            </div>
        </div>
    <br><br><br><br><hr><br>
    <ul>
        <li class="list1">Task</li>
        <li class="list1">Date</li>
        <li class="list1">IMPORTANT</li>
        <li class="list1">COMPLETED</li>
        <li class="list1">DELETE</li>
    </ul>
    <div class="box" id="tasksBox">
        <div id="tasksContainer" class="tasks-container"></div>
    </div>
    <div id="overlay"></div>
    <div class="nav"></div>
    <div class="vertical-menu">
        <a onclick="filterTasksByUrgency('today')">Today</a>
        <a onclick="filterTasksByUrgency('urgent')">Urgent</a>
        <a onclick="filterTasksByUrgency('upcoming')">Upcoming</a>
        <a onclick="showTasks()">Tasks</a>
        <a id="showCompletedButton">Completed</a>
    </div>
</body>
</html>